module IfTest

language Ruby

start symbol Program

test If single [[if testExp; end]] parse succeeds
test If explicit with then [[if 123 then 123 end]] parse succeeds
test If implicit without sep fails [[if 1234 Var end]] parse fails
test If implicit with sep [[if 1234; 1234; end]] parse succeeds

test If implicit with else[[if 123; 1234 else 1234; end]] parse succeeds
test If explicit with else[[if 123 then 1234 else 1234 end]] parse succeeds

test If one elseif [[if 123; then 123 elseif 1234 then 1234 end]] parse succeeds
test If more elseif [[if 123; then 1234 elseif 1234 then 124 elseif 1234 then 1234 end]] parse succeeds

test Else before elseif fails [[if 123 then 1234 else 1234 elseif 1234 end]] parse fails